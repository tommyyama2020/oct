{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Open Clinical Terminology (<code>oct</code>)","text":"<p>Welcome to the documentation for Open Clinical Terminology (<code>oct</code>).</p> <p>This site is organised for three main audiences:</p> <ul> <li>Contributors \u2013 people who want to help build and govern <code>oct</code>.</li> <li>Informaticians \u2013 people interested in the clinical/semantic model, use in systems, and integration with other standards.</li> <li>Developers \u2013 people building tools, integrations, and applications that use <code>oct</code>.</li> </ul> <p>Use the navigation on the left to explore guidance and reference material for your role.</p>"},{"location":"attribution/","title":"How to Attribute Open Clinical Terminology (<code>oct</code>)","text":"<p>Use the following guidance to give clear, correct credit when you use Open Clinical Terminology (<code>oct</code>). Pick the block that matches your use case and include it in your documentation, about page, README, or citation list.</p>"},{"location":"attribution/#if-you-use-oct-software-apache-license-20","title":"If you use <code>oct</code> software (Apache License 2.0)","text":"<p>Add this block to your project:</p> <pre><code>This project uses software from Open Clinical Terminology (`oct`), licensed under the Apache License, Version 2.0.\nCopyright (c) 2022-2025 Baw Medical Ltd. See https://github.com/openterminology/oct for details.\n</code></pre>"},{"location":"attribution/#if-you-use-oct-terminology-or-knowledge-cc-by-40","title":"If you use <code>oct</code> terminology or knowledge (CC BY 4.0)","text":"<p>Add this block to your materials:</p> <pre><code>Content includes terminology from Open Clinical Terminology (`oct`), licensed under Creative Commons Attribution 4.0 International (CC BY 4.0).\nOriginal source: https://github.com/openterminology/oct. Changes (if any) are indicated in this work.\n</code></pre>"},{"location":"attribution/#if-you-use-both-software-and-terminology-together","title":"If you use both software and terminology together","text":"<p>Add this combined block:</p> <pre><code>This work incorporates Open Clinical Terminology (`oct`).\n- Software components are licensed under the Apache License, Version 2.0. Copyright (c) 2022-2025 Baw Medical Ltd.\n- Terminology and knowledge are licensed under Creative Commons Attribution 4.0 International (CC BY 4.0). Changes (if any) are indicated in this work.\nSource: https://github.com/openterminology/oct\n</code></pre>"},{"location":"attribution/#tips-for-good-attribution","title":"Tips for good attribution","text":"<ul> <li>Keep the license names intact (\"Apache License 2.0\" and \"Creative Commons Attribution 4.0 International\").</li> <li>Link back to the Open Clinical Terminology (<code>oct</code>) repository when possible.</li> <li>When you modify Open Clinical Terminology (<code>oct</code>) terminology, briefly note the nature of your changes.</li> </ul>"},{"location":"code-of-conduct/","title":"Contributor Covenant 3.0 Code of Conduct","text":""},{"location":"code-of-conduct/#our-pledge","title":"Our Pledge","text":"<p>We pledge to make our community welcoming, safe, and equitable for all.</p> <p>We are committed to fostering an environment that respects and promotes the dignity, rights, and contributions of all individuals, regardless of characteristics including race, ethnicity, caste, color, age, physical characteristics, neurodiversity, disability, sex or gender, gender identity or expression, sexual orientation, language, philosophy or religion, national or social origin, socio-economic position, level of education, or other status. The same privileges of participation are extended to everyone who participates in good faith and in accordance with this Covenant.</p>"},{"location":"code-of-conduct/#encouraged-behaviors","title":"Encouraged Behaviors","text":"<p>While acknowledging differences in social norms, we all strive to meet our community's expectations for positive behavior. We also understand that our words and actions may be interpreted differently than we intend based on culture, background, or native language.</p> <p>With these considerations in mind, we agree to behave mindfully toward each other and act in ways that center our shared values, including:</p> <ol> <li>Respecting the purpose of our community, our activities, and our ways of gathering.</li> <li>Engaging kindly and honestly with others.</li> <li>Respecting different viewpoints and experiences.</li> <li>Taking responsibility for our actions and contributions.</li> <li>Gracefully giving and accepting constructive feedback.</li> <li>Committing to repairing harm when it occurs.</li> <li>Behaving in other ways that promote and sustain the well-being of our community.</li> </ol>"},{"location":"code-of-conduct/#restricted-behaviors","title":"Restricted Behaviors","text":"<p>We agree to restrict the following behaviors in our community. Instances, threats, and promotion of these behaviors are violations of this Code of Conduct.</p> <ol> <li>Harassment. Violating explicitly expressed boundaries or engaging in unnecessary personal attention after any clear request to stop.</li> <li>Character attacks. Making insulting, demeaning, or pejorative comments directed at a community member or group of people.</li> <li>Stereotyping or discrimination. Characterizing anyone\u2019s personality or behavior on the basis of immutable identities or traits.</li> <li>Sexualization. Behaving in a way that would generally be considered inappropriately intimate in the context or purpose of the community.</li> <li>Violating confidentiality. Sharing or acting on someone's personal or private information without their permission.</li> <li>Endangerment. Causing, encouraging, or threatening violence or other harm toward any person or group.</li> <li>Behaving in other ways that threaten the well-being of our community.</li> </ol>"},{"location":"code-of-conduct/#other-restrictions","title":"Other Restrictions","text":"<ol> <li>Misleading identity. Impersonating someone else for any reason, or pretending to be someone else to evade enforcement actions.</li> <li>Failing to credit sources. Not properly crediting the sources of content you contribute.</li> <li>Promotional materials. Sharing marketing or other commercial content in a way that is outside the norms of the community.</li> <li>Irresponsible communication. Failing to responsibly present content which includes, links or describes any other restricted behaviors.</li> </ol>"},{"location":"code-of-conduct/#reporting-an-issue","title":"Reporting an Issue","text":"<p>Tensions can occur between community members even when they are trying their best to collaborate. Not every conflict represents a code of conduct violation, and this Code of Conduct reinforces encouraged behaviors and norms that can help avoid conflicts and minimize harm.</p> <p>When an incident does occur, it is important to report it promptly. To report a possible violation, [NOTE: describe your means of reporting here.]</p> <p>Community Moderators take reports of violations seriously and will make every effort to respond in a timely manner. They will investigate all reports of code of conduct violations, reviewing messages, logs, and recordings, or interviewing witnesses and other participants. Community Moderators will keep investigation and enforcement actions as transparent as possible while prioritizing safety and confidentiality. In order to honor these values, enforcement actions are carried out in private with the involved parties, but communicating to the whole community may be part of a mutually agreed upon resolution.</p>"},{"location":"code-of-conduct/#addressing-and-repairing-harm","title":"Addressing and Repairing Harm","text":"<p>[NOTE: The remedies and repairs outlined below are suggestions based on best practices in code of conduct enforcement. If your community has its own established enforcement process, be sure to edit this section to describe your own policies.]</p> <p>If an investigation by the Community Moderators finds that this Code of Conduct has been violated, the following enforcement ladder may be used to determine how best to repair harm, based on the incident's impact on the individuals involved and the community as a whole. Depending on the severity of a violation, lower rungs on the ladder may be skipped.</p> <p>1) Warning    1) Event: A violation involving a single incident or series of incidents.    2) Consequence: A private, written warning from the Community Moderators.    3) Repair: Examples of repair include a private written apology, acknowledgement of responsibility, and seeking clarification on expectations. 2) Temporarily Limited Activities    1) Event: A repeated incidence of a violation that previously resulted in a warning, or the first incidence of a more serious violation.    2) Consequence: A private, written warning with a time-limited cooldown period designed to underscore the seriousness of the situation and give the community members involved time to process the incident. The cooldown period may be limited to particular communication channels or interactions with particular community members.    3) Repair: Examples of repair may include making an apology, using the cooldown period to reflect on actions and impact, and being thoughtful about re-entering community spaces after the period is over. 3) Temporary Suspension    1) Event: A pattern of repeated violation which the Community Moderators have tried to address with warnings, or a single serious violation.    2) Consequence: A private written warning with conditions for return from suspension. In general, temporary suspensions give the person being suspended time to reflect upon their behavior and possible corrective actions.    3) Repair: Examples of repair include respecting the spirit of the suspension, meeting the specified conditions for return, and being thoughtful about how to reintegrate with the community when the suspension is lifted. 4) Permanent Ban    1) Event: A pattern of repeated code of conduct violations that other steps on the ladder have failed to resolve, or a violation so serious that the Community Moderators determine there is no way to keep the community safe with this person as a member.    2) Consequence: Access to all community spaces, tools, and communication channels is removed. In general, permanent bans should be rarely used, should have strong reasoning behind them, and should only be resorted to if working through other remedies has failed to change the behavior.    3) Repair: There is no possible repair in cases of this severity.</p> <p>This enforcement ladder is intended as a guideline. It does not limit the ability of Community Managers to use their discretion and judgment, in keeping with the best interests of our community.</p>"},{"location":"code-of-conduct/#scope","title":"Scope","text":"<p>This Code of Conduct applies within all community spaces, and also applies when an individual is officially representing the community in public or other spaces. Examples of representing our community include using an official email address, posting via an official social media account, or acting as an appointed representative at an online or offline event.</p>"},{"location":"code-of-conduct/#attribution","title":"Attribution","text":"<p>This Code of Conduct is adapted from the Contributor Covenant, version 3.0, permanently available at https://www.contributor-covenant.org/version/3/0/.</p> <p>Contributor Covenant is stewarded by the Organization for Ethical Source and licensed under CC BY-SA 4.0. To view a copy of this license, visit https://creativecommons.org/licenses/by-sa/4.0/</p> <p>For answers to common questions about Contributor Covenant, see the FAQ at https://www.contributor-covenant.org/faq. Translations are provided at https://www.contributor-covenant.org/translations. Additional enforcement and community guideline resources can be found at https://www.contributor-covenant.org/resources. The enforcement ladder was inspired by the work of Mozilla\u2019s code of conduct team.</p>"},{"location":"foundation/","title":"Foundation and Custodianship","text":""},{"location":"foundation/#current-ownership","title":"Current ownership","text":"<ul> <li>Copyright: 2022-2025 Baw Medical Ltd.</li> <li>Custodianship: Baw Medical Ltd is the legal owner and custodian of the <code>oct</code> project and its associated assets (code, terminology data, documentation, trademarks, domains, and governance artefacts).</li> <li>Stewardship approach: Assets are held on behalf of the community to keep the project stable while its governance matures.</li> </ul>"},{"location":"foundation/#path-to-an-independent-foundation","title":"Path to an independent foundation","text":"<p>The strategic goal is to transfer <code>oct</code> into the ownership of an independent non-profit foundation. This foundation may be:</p> <ul> <li>An existing and trusted open-source or healthcare-oriented foundation, or</li> <li>A new non-profit entity established specifically for <code>oct</code>.</li> </ul> <p>We will select the path that best safeguards openness, transparency, and community trust. Transfer plans will be developed in consultation with contributors and users to ensure the foundation can assume legal ownership of all relevant intellectual property.</p>"},{"location":"foundation/#interim-governance","title":"Interim governance","text":"<p>Until the transfer occurs, Baw Medical Ltd will continue to hold and protect the project assets as custodian. Operational governance remains with the project leadership (including the BDFL) while processes and community structures are refined to support the eventual handover.</p>"},{"location":"contributors/","title":"Contributors","text":"<p>This section is for people who want to contribute to Open Clinical Terminology (<code>oct</code>).</p> <p>Topics we can cover here:</p> <ul> <li>Project goals and governance</li> <li>How to propose new concepts or changes</li> <li>Review and decision-making processes</li> <li>Communication channels and meeting notes</li> </ul> <p>TODO: Flesh this out with concrete contribution workflows and links to issues, discussion forums, and governance documents.</p>"},{"location":"contributors/#contributors_1","title":"Contributors","text":"<ul> <li>Dr Marcus Baw MBChB(Hons) MRCGP FFCI - BDFL and Lead Maintainer</li> <li>Tomomi Yamano - Contributor (burai.live)</li> </ul>"},{"location":"contributors/how-to-contribute/","title":"How to contribute to Open Clinical Terminology (<code>oct</code>)","text":"<p>This page will describe practical contribution steps, including:</p> <ul> <li>Setting up a local environment</li> <li>Understanding the terminology file formats</li> <li>Creating or editing terminology entries</li> <li>Submitting pull requests</li> <li>Participating in reviews</li> </ul> <p>TODO: Populate this with step-by-step instructions tailored to clinicians, informaticians, and developers.</p>"},{"location":"developers/","title":"Developers","text":"<p>This section is for developers building tools and integrations around Open Clinical Terminology (<code>oct</code>).</p> <p>Potential topics:</p> <ul> <li>Repository layout</li> <li>Terminology file formats and schemas</li> <li>Build and validation tooling</li> <li>Embedding <code>oct</code> in applications and services</li> </ul> <p>TODO: Link to concrete examples, SDKs, and reference implementations as they are created.</p>"},{"location":"developers/docs-setup/","title":"Documentation setup","text":"<p>This project uses MkDocs with the Material for MkDocs theme.</p>"},{"location":"developers/docs-setup/#local-setup","title":"Local setup","text":"<p>From the repository root, ensure your Python environment is active (for example, using the existing <code>.venv</code>) and install MkDocs and the Material theme:</p> <pre><code>pip install \"mkdocs-material&gt;=9.0\"\n</code></pre>"},{"location":"developers/docs-setup/#serving-the-docs-locally","title":"Serving the docs locally","text":"<p>From the repository root (where <code>mkdocs.yml</code> lives), run:</p> <pre><code>mkdocs serve\n</code></pre> <p>Then open the URL shown in the terminal (typically <code>http://127.0.0.1:8000/</code>).</p>"},{"location":"developers/docs-setup/#building-the-static-site","title":"Building the static site","text":"<p>To build a static site into the <code>site/</code> directory:</p> <pre><code>mkdocs build\n</code></pre> <p>You can then deploy the <code>site/</code> directory to any static web host (GitHub Pages, Netlify, Cloudflare Pages, etc.).</p>"},{"location":"developers/tooling/","title":"Tooling (CLI, APIs)","text":"<p>This page will document tools and programmatic interfaces for working with Open Clinical Terminology (<code>oct</code>).</p> <p>Planned content:</p> <ul> <li>Overview of the Python CLI in <code>tools/oct.py</code></li> <li>Commands for validating, searching, and building terminology</li> <li>How to call <code>oct</code> from other scripts or services</li> <li>API patterns if/when a service layer is introduced</li> </ul> <p>TODO: Fill in with concrete command examples and usage once the tooling is stable.</p>"},{"location":"informaticians/","title":"Informaticians","text":"<p>This section is for clinical informaticians, information architects, and standards implementers.</p> <p>Potential topics:</p> <ul> <li>Design principles behind <code>oct</code></li> <li>Identifier and namespace strategy</li> <li>Relationship to other standards (e.g. SNOMED CT, ICD, openEHR)</li> <li>Integration patterns in clinical systems</li> <li>Licensing compatibility of seed terminologies such as UK Read Codes Clinical Terms Version 3 (CTV3)</li> </ul> <p>TODO: Add more detailed conceptual and architectural documentation.</p>"},{"location":"informaticians/ctv3/","title":"UK Read Codes Clinical Terms Version 3 (CTV3) licensing review","text":""},{"location":"informaticians/ctv3/#source","title":"Source","text":"<ul> <li>NHS TRUD item: UK Read Codes Clinical Terms Version 3 (CTV3) licences page.</li> </ul>"},{"location":"informaticians/ctv3/#licence-statements-from-trud","title":"Licence statements from TRUD","text":"<ul> <li>The TRUD page lists \"Open Government Licence for TRUD\" as the applied licence and links to the National Archives Open Government Licence (OGL). It notes that an open TRUD account is needed to use the content and recommends notifying NHS Digital of errors and tracking uses for updates.</li> <li>The OGL v3.0 terms provide a worldwide, royalty-free, perpetual, non-exclusive licence to copy, publish, distribute, transmit, adapt, and commercially or non-commercially exploit the information, provided the source is acknowledged.</li> <li>OGL obligations require attribution to the information provider and inclusion of a link to the licence, with a default statement (\u201cContains public sector information licensed under the Open Government Licence v3.0\u201d) when none is supplied.</li> <li>Exemptions include personal data, logos/crests, third-party rights the provider cannot license, and non-endorsement requirements.</li> </ul>"},{"location":"informaticians/ctv3/#compatibility-with-oct","title":"Compatibility with <code>oct</code>","text":"<ul> <li><code>oct</code> terminology data is licensed under CC BY 4.0. Both OGL v3.0 and CC BY 4.0 are attribution licences that permit copying, adaptation, redistribution, and commercial use with proper credit. The permissions and obligations align closely, making OGL v3.0 content suitable for incorporation into a CC BY 4.0 dataset when attribution is preserved.</li> <li>Additional TRUD usage guidance (maintaining an open account, reporting errors) does not restrict downstream reuse of OGL-licensed content once obtained. However, we should maintain provenance records and preferred attribution supplied by NHS Digital to satisfy OGL requirements.</li> <li>OGL\u2019s non-endorsement and logo exclusions match <code>oct</code>\u2019s existing stance on trademarks; we must avoid implying NHS endorsement and omit any protected branding.</li> </ul>"},{"location":"informaticians/ctv3/#recommendation","title":"Recommendation","text":"<ul> <li>CTV3\u2019s OGL v3.0 licence is compatible with <code>oct</code>\u2019s open-terminology goals. We can use CTV3 as a seed source provided we:</li> <li>capture and display NHS Digital/National Archives attribution alongside any imported terms;</li> <li>exclude any content outside OGL scope (e.g., logos, personal data, third-party inserts if present);</li> <li>keep provenance records to honour update and error-reporting guidance.</li> <li>Subject to those practices, CTV3 can form part of the <code>oct</code> open terminology without conflicting with <code>oct</code>\u2019s CC BY 4.0 licensing.</li> </ul>"},{"location":"informaticians/research/","title":"Terminology Research","text":"<p><code>oct</code> is developed through the experience of our contributors and informed by publications in clinical terminology, health informatics, and related fields.</p>"},{"location":"informaticians/research/#references","title":"References","text":"<p>A list of resources and references that have informed the development of <code>oct</code> includes:</p> <ol> <li> <p>Desiderata for Controlled Medical Vocabularies in the Twenty-First Century. JamesJ Cimino, Methods Inf Med. 1998 Nov;37(4-5):394\u2013403. https://pmc.ncbi.nlm.nih.gov/articles/PMC3415631/</p> </li> <li> <p>Clinical terminology: why is it so hard? A L Rector, Methods Inf Med 1999 Dec;38(4-5):239-52. https://pubmed.ncbi.nlm.nih.gov/10805008/</p> </li> <li> <p>Discussions on the Open Health Hub forum: https://openhealthhub.org/c/oct</p> </li> <li> <p>Discussions on the openEHR forum: https://discourse.openehr.org/t/oct-a-new-open-clinical-terminology</p> </li> </ol>"},{"location":"informaticians/research/#desiderata-for-controlled-medical-vocabularies-in-the-twenty-first-century-1996","title":"Desiderata for Controlled Medical Vocabularies in the Twenty-First Century (1996)","text":"<p>This is regarded as an important paper, and much of what is discussed has formed part of the design of existing clinical terminologies.</p> <p>Here is a summary of my (Marcus Baw) notes on Desiderata, and how <code>oct</code> addresses each point:</p>"},{"location":"informaticians/research/#multipurpose","title":"Multipurpose","text":"<p>A terminology should be designed to support multiple uses, including clinical documentation, decision support, research, and administrative reporting.</p>"},{"location":"informaticians/research/#concept-orientation","title":"Concept Orientation","text":"<p>A terminology should be concept-oriented, meaning that each term represents a distinct clinical concept. A term should have at least one meaning but not more than one meaning.</p>"},{"location":"informaticians/research/#permanence","title":"Permanence","text":"<p>Concepts can never be deleted from a terminology; they can only be deprecated. This ensures that historical data remains interpretable. <code>oct</code> implemets this by adding all terms to a very large namespace of identifiers, and never reusing or deleting them.</p>"},{"location":"informaticians/research/#nonsemantic-identifiers","title":"Nonsemantic Identifiers","text":"<p>The identifier of a term should have no linguistic meaning, and no part of the identified should determine the term's place in a hierarchy. <code>oct</code> uses 6-digit random Crockford Base32 strings as identifiers for all terms.</p>"},{"location":"informaticians/research/#polyhierarchy","title":"Polyhierarchy","text":"<p>There is no such thing as a single 'correct' hierarchy that can work for all contexts, and remain correct over time as medicine evolves. <code>oct</code> is designed to support multiple, composable Graphs which can classify terms in different ways for different purposes.</p>"},{"location":"informaticians/research/#no-catch-all-terms","title":"No 'Catch-All' Terms","text":"<p>Terms like 'Other', 'Miscellaneous', or NOS ('Not Otherwise Specified'), NEC ('Not Elsewhere Classified') are problematic because they create ambiguity and reduce data quality. <code>oct</code> avoids the use of such terms.</p>"},{"location":"informaticians/research/#formal-definitions","title":"Formal Definitions","text":"<p>Desiderata states that terms should have formal definitions to support computational processing. However, this is an area which seems to have resulted in excessive complexity in other terminologies, and is perhaps the dividing line where ordinary clinicians stop being able to understand and use the terminology effectively. Therefore, <code>oct</code> at this time focuses on human-readable definitions and clear clinician-understandable relationships.</p>"},{"location":"informaticians/research/#multiple-granularities","title":"Multiple Granularities","text":"<p>A terminology should support multiple levels of granularity to accommodate different clinical scenarios. <code>oct</code> allows for terms at varying levels of detail, enabling users to select the appropriate level of specificity for their needs.</p>"},{"location":"informaticians/research/#context-representation","title":"Context Representation","text":"<p>Desiderata states that  terminology should be able to represent the context in which a term is used, such as clinical setting, patient demographics, or temporal factors. <code>oct</code> incorporates mechanisms to capture and represent such contextual information, enhancing the relevance and accuracy of term usage. I believe that this is the point where the terminology should give way to the structured data model (eg openEHR or FHIR) which captures context more effectively.</p>"},{"location":"informaticians/research/#graceful-evolution","title":"Graceful Evolution","text":"<p>A terminology should be able to evolve over time without disrupting existing data. <code>oct</code> is designed to accommodate changes, additions, and deprecations in a way that maintains the integrity of historical data. The <code>oct</code> namespace is vast and immutable. <code>oct</code> graphs are versioned and computable. <code>oct</code> tools will support programmatic 'migrations' similar to database schema migrations, to help users update their implementations as the terminology evolves.</p>"},{"location":"specification/","title":"OCT Specification Index","text":"<p>This folder holds specification documents for the Open Clinical Terminology (OCT) project. It provides:</p> <ul> <li>A top-level specification covering coding style expectations and contribution patterns for OCT tooling.</li> <li>Command-level specifications for the <code>oct</code> CLI, with one file per command.</li> </ul> <p>The documents are intended as living guidance for contributors and reviewers. They should be updated alongside code changes to keep the specification authoritative.</p>"},{"location":"specification/#coding-style-and-development-standards","title":"Coding Style and Development Standards","text":"<ul> <li>Language &amp; Tooling: Python 3.13+ for CLI work, using <code>click</code> for command definitions and option parsing.</li> <li>Imports: Group standard library, third-party, and local imports separately; avoid wildcard imports; never wrap imports in <code>try/except</code>.</li> <li>Typing: Prefer explicit type hints for function arguments and return values. Use <code>Path</code> for filesystem paths.</li> <li>Error Handling: Fail fast with clear, user-focused error messages; avoid silent failures. Capture predictable exceptions and surface actionable guidance.</li> <li>I/O &amp; Filesystem: Treat <code>tools/</code> as the CLI home, with <code>terms/</code> as the default data root. Keep path handling cross-platform by relying on <code>pathlib</code>.</li> <li>Logging &amp; UX: Use <code>click.echo</code> for user-facing output. Keep messages concise, with details only when helpful for troubleshooting.</li> <li>Testing &amp; Validation: Prefer small, deterministic functions. New behavior should be exercised by unit tests or smoke commands when feasible.</li> <li>Documentation: Every command should have a dedicated spec file describing purpose, inputs, outputs, and side effects. Keep examples in sync with the CLI help text.</li> <li>Security &amp; Integrity: Use <code>secrets</code> for any identifier generation. Avoid writing files without explicit user intent. Check for existing artifacts before creating new ones.</li> </ul>"},{"location":"specification/#file-layout","title":"File Layout","text":"<ul> <li><code>docs/specifications/README.md</code> \u2014 This document and style expectations.</li> <li><code>docs/specifications/commands/&lt;command&gt;.md</code> \u2014 One file per CLI command.</li> </ul> <p>When adding new commands, create a matching spec file in <code>docs/specifications/commands/</code> and link it from relevant documentation.</p>"},{"location":"specification/cli-commands/","title":"OCT CLI Specification","text":"<p>This document summarises how the <code>oct</code> command-line interface behaves today, based on <code>./oct</code> and <code>tools/oct.py</code>. It is intended as a stable reference for contributors and for future prompt-driven tooling.</p>"},{"location":"specification/cli-commands/#cli-structure","title":"CLI Structure","text":"<ul> <li>Entrypoint: run <code>./oct</code> (executable wrapper) or <code>python tools/oct.py</code>.</li> <li>Implementation: Python CLI built with <code>click</code> versioned as <code>0.1.1</code>.</li> <li>Default data root: <code>terms/</code> in the repository root, with language subdirectories such as <code>terms/en-GB/</code>.</li> <li>Identifiers: generated with a lowercase Crockford Base32 alphabet (<code>0123456789abcdefghjkmnpqrstvwxyz</code>) and default length of 6 characters.</li> </ul>"},{"location":"specification/cli-commands/#command-reference","title":"Command Reference","text":""},{"location":"specification/cli-commands/#oct-term-new","title":"<code>oct term new</code>","text":"<p>Create an empty concept file with a unique identifier. - Options   - <code>--directory, -d</code>: override the target directory (defaults to <code>terms/&lt;language&gt;/</code>).   - <code>--language, -l</code>: language directory to use when no explicit directory is provided (default: <code>en-GB</code>). - Behavior   - Ensures the target directory exists (parents created as needed).   - Attempts up to 1000 identifier generations; on success touches <code>&lt;id&gt;.oct</code> in the target directory and logs the identifier with a timestamp to <code>terms/terms</code>.   - Prints the created path and the identifier. - Errors   - After 1000 failed attempts to find a free identifier, prints an error and exits non-zero.</p>"},{"location":"specification/cli-commands/#oct-search","title":"<code>oct search</code>","text":"<p>Search for identifiers or content within <code>.oct</code> files. - Arguments   - <code>query</code> (positional): substring to find in file names or contents. - Options   - <code>--directory, -d</code>: override the search root (defaults to <code>terms/&lt;language&gt;/</code>).   - <code>--language, -l</code>: language directory to search when no explicit directory is given (default: <code>en-GB</code>). - Behavior   - Recursively scans for <code>*.oct</code> files under the search root.   - Reports matches when the query (case-insensitive) appears in the filename or in the file contents. Content matches are printed as <code>&lt;filename&gt; # &lt;content&gt;</code>.   - Prints <code>No matches found.</code> when nothing matches. - Errors   - If the search directory does not exist, prints <code>Directory not found: &lt;path&gt;</code> and stops.   - Files that cannot be read emit <code>Could not read &lt;path&gt;: &lt;error&gt;</code> but do not stop the scan.</p>"},{"location":"specification/cli-commands/#oct-similar","title":"<code>oct similar</code>","text":"<p>Find concept files with content similar to a query using cosine similarity. - Arguments   - <code>query</code> (positional): text to compare against concept files. - Options   - <code>--directory, -d</code>: override the directory to scan (defaults to <code>terms/&lt;language&gt;/</code>).   - <code>--language, -l</code>: language directory to use when no explicit directory is set (default: <code>en-GB</code>).   - <code>--threshold, -t</code>: minimum cosine similarity score to report (default: <code>0.2</code>). - Behavior   - Looks only at files directly under the target directory (non-recursive).   - Reads file contents as UTF-8 and strips whitespace. Unreadable files are reported and skipped.   - Builds TF-IDF vectors for the query and all readable files, then calculates cosine similarity scores.   - Outputs matching files sorted by similarity in descending order as <code>[&lt;score&gt;] &lt;filename&gt;</code> when the score meets or exceeds the threshold.   - Prints <code>No similar concepts found above the threshold.</code> when nothing qualifies. - Errors   - If the directory is missing, prints <code>Directory not found: &lt;path&gt;</code> and exits.   - If no readable files are available, prints <code>No readable files found.</code> and exits.</p>"},{"location":"specification/cli-commands/#logging-and-side-effects","title":"Logging and Side Effects","text":"<ul> <li><code>oct new</code> appends a timestamped entry to <code>terms/terms</code> for every created identifier.</li> <li>All commands rely on <code>pathlib.Path</code> for filesystem access and default to UTF-8 text handling.</li> </ul>"},{"location":"specification/overview/","title":"OCT Overview and Governance Specification","text":"<p>This document distills how Open Clinical Terminology (\"<code>oct</code>\") is intended to operate, drawing from the repository README and current project documentation. It should be used as a source of truth for contributors and for future automation that needs to understand the core rules of the project.</p>"},{"location":"specification/overview/#project-purpose-and-philosophy","title":"Project Purpose and Philosophy","text":"<ul> <li>Goal: create an open, community-driven clinical terminology that is free to use, modify, and redistribute.</li> <li>Clinical focus: prioritise clinically relevant concepts while keeping identifiers non-semantic.</li> <li>Namespace/Hierarchy separation: concept identifiers live in <code>oct</code>; any hierarchical relationships are handled by separate ontologies that reference these identifiers.</li> <li>Community ownership: decisions are consensus-driven with final tie-breaking by the BDFL. Contributions should link to discussions on the Open Health Hub <code>oct</code> category when proposing changes.</li> </ul>"},{"location":"specification/overview/#namespace-requirements","title":"Namespace Requirements","text":"<p>The identifier format is designed to satisfy the namespace requirements documented in the repository README: - Unique (NS001): each identifier points to exactly one concept. - Non-semantic (NS002): identifiers carry no embedded meaning. - Persistent (NS003): identifiers are never reused; inactive concepts remain addressable. - Short and human-communicable (NS004\u2013NS005): identifiers should be easy to type and verbalise. - URL/filename safe (NS006): no special encoding required in paths. - Future-proof and recognisable (NS007\u2013NS008): namespace space is large enough for growth and distinguishable as <code>oct</code>.</p>"},{"location":"specification/overview/#licensing-expectations","title":"Licensing Expectations","text":"<p><code>oct</code> treats different assets with licences suited to their role: - Software: Apache 2.0 - Terminology data: CC-BY 4.0 - Documentation &amp; specifications: CC-BY 4.0 - Branding: trademark protection for the <code>oct</code> name and logo</p> <p>Redistribution of CC-BY content must attribute the project and link back to the canonical repository. Commercial use is encouraged provided attribution is preserved and branding is not misused.</p>"},{"location":"specification/overview/#contribution-rules","title":"Contribution Rules","text":"<ul> <li>Raise proposed changes via Issues or Pull Requests with rationale and links to relevant discussions.</li> <li>All contributions adopt the licence appropriate to the component being changed (Apache 2.0 for code, CC-BY 4.0 for data/docs).</li> <li>AI/LLM content: clinical content must not be generated by AI/LLMs. Using AI to assist with code or tooling is acceptable when there is no copyright risk.</li> </ul>"},{"location":"specification/overview/#language-choice","title":"Language choice","text":"<ul> <li>Python - The <code>oct</code> tool is written in Python, as this is a widely used language in both clinical informatics, machine learning, and open source communities. It is accessible to a broad range of contributors. As an interpreted language it has the disadvantage of relative slow performance compared to compiled languages, but at this stage of the project, this is not a significant concern for the expected workloads. If we have to, we'll optimise performance-critical sections later.</li> <li>YAML - where machine-readable metadata or configuration is required, we will tend to use YAML, as it is more human-friendly than alternatives like JSON or XML.</li> </ul>"},{"location":"specification/overview/#tooling-surface","title":"Tooling Surface","text":"<ul> <li>CLI entrypoint: the executable wrapper at the repository root (<code>./oct</code>) imports the Python CLI from <code>tools/oct.py</code>.</li> <li>Data root: CLI defaults point to the <code>terms/</code> directory at the repository root, using language-specific subfolders such as <code>terms/en-GB/</code>.</li> <li>Versioning: the Click-based CLI currently reports version <code>0.1.1</code>.</li> </ul>"},{"location":"specification/overview/#path-and-logging-conventions","title":"Path and Logging Conventions","text":"<ul> <li>Concept files use the <code>.oct</code> extension and are stored under language directories (for example, <code>terms/en-GB/&lt;id&gt;.oct</code>).</li> <li>Creating a new concept logs an ISO 8601 timestamp and the identifier to <code>terms/terms</code> for traceability.</li> <li>File operations use <code>pathlib.Path</code> to remain cross-platform and create parent directories as needed when writing.</li> </ul>"},{"location":"specification/commands/graph/","title":"<code>oct graph new</code>","text":"<p>to scaffold out a new graph with metadata frontmatter.</p> <p>all 'graphs' have to have an 'Intended Use' statement, as per openEHR Archetypes and templates - there can never be a graph which is unqualifiedly good for all purposes.</p>"},{"location":"specification/commands/search/","title":"Command: <code>oct search</code>","text":"<p>Search for concept files by identifier or content.</p>"},{"location":"specification/commands/search/#purpose","title":"Purpose","text":"<ul> <li>Quickly locate concepts using partial identifiers or keywords in <code>.oct</code> files.</li> <li>Provide a filesystem-aware search scoped to the terminology tree.</li> </ul>"},{"location":"specification/commands/search/#behavior","title":"Behavior","text":"<ul> <li>Default search root is <code>terms/&lt;language&gt;/</code> relative to the repository root.</li> <li>Recursively searches for files ending in <code>.oct</code>.</li> <li>Matches are reported when:</li> <li>The query substring matches the filename (identifier), or</li> <li>The query substring appears in the file contents (case-insensitive).</li> <li>Outputs matching identifiers or <code>filename # content</code> snippets for content matches.</li> <li>If no matches are found, prints <code>No matches found.</code></li> </ul>"},{"location":"specification/commands/search/#arguments-options","title":"Arguments &amp; Options","text":"<ul> <li><code>query</code> (positional): Text to search for in filenames or file contents.</li> <li><code>--directory</code>, <code>-d</code>: Override the search root directory. Defaults to <code>terms/&lt;language&gt;/</code>.</li> <li><code>--language</code>, <code>-l</code>: Language code used to select the default search directory. Defaults to <code>en-GB</code>.</li> </ul>"},{"location":"specification/commands/search/#usage-examples","title":"Usage Examples","text":"<pre><code>./oct search flu\n./oct search ABC123 --language en-US\n./oct search heart --directory /custom/terms\n</code></pre>"},{"location":"specification/commands/search/#validation-error-handling","title":"Validation &amp; Error Handling","text":"<ul> <li>If the search directory does not exist, the command prints <code>Directory not found: &lt;path&gt;</code> and exits without scanning.</li> <li>Files that cannot be read emit a <code>Could not read &lt;path&gt;</code> message and the scan continues.</li> </ul>"},{"location":"specification/commands/search/#notes-for-implementers","title":"Notes for Implementers","text":"<ul> <li>Use <code>Path.rglob('*.oct')</code> for recursive discovery to keep behavior consistent across platforms.</li> <li>Keep search case-insensitive for both identifiers and contents.</li> <li>Avoid truncating content in the output for now; adjust this spec if summarization rules are added.</li> </ul>"},{"location":"specification/commands/term/","title":"<code>oct term</code>","text":"<p>Commands for managing clinical terminology concepts.</p>"},{"location":"specification/commands/term/#oct-term-new","title":"<code>oct term new</code>","text":"<p>Create a new concept file with a unique Crockford Base32 identifier.</p>"},{"location":"specification/commands/term/#purpose","title":"Purpose","text":"<ul> <li>Provide a fast, repeatable way to create empty <code>.oct</code> term files.</li> <li>Ensure identifiers are globally unique within the terminology dataset.</li> </ul>"},{"location":"specification/commands/term/#behavior","title":"Behavior","text":"<ul> <li>Default target directory is <code>terms/&lt;language&gt;/</code> relative to the repository root.</li> <li>Uses a lowercase Crockford Base32 alphabet (excluding <code>i</code>, <code>l</code>, <code>o</code>, <code>u</code>) to generate a 6-character ID.</li> <li>Retries up to 1000 times to avoid collisions; aborts with an error if uniqueness cannot be achieved.</li> <li>Logs each creation event to <code>terms/terms</code> with an ISO 8601 timestamp and the generated identifier.</li> <li>Creates an empty file named <code>&lt;id&gt;.oct</code> and prints the path and identifier.</li> </ul>"},{"location":"specification/commands/term/#arguments-options","title":"Arguments &amp; Options","text":"<ul> <li><code>--directory</code>, <code>-d</code>: Override the target directory for the new file. Defaults to <code>terms/&lt;language&gt;/</code>.</li> <li><code>--language</code>, <code>-l</code>: Language code used to select the default directory. Defaults to <code>en-GB</code>.</li> </ul>"},{"location":"specification/commands/term/#usage-examples","title":"Usage Examples","text":"<pre><code>./oct term new\n./oct term new --language en-US\n./oct term new --directory /custom/path\n</code></pre>"},{"location":"specification/commands/term/#validation-error-handling","title":"Validation &amp; Error Handling","text":"<ul> <li>If the target directory does not exist, it is created (including parent directories).</li> <li>If file creation fails after 1000 attempts, the command exits with a non-zero status and an error message.</li> </ul>"},{"location":"specification/commands/term/#notes","title":"Notes","text":"<ul> <li>Use <code>secrets.choice</code> for identifier generation to maintain entropy.</li> <li>Use <code>Path.touch()</code> to create files and <code>Path</code> operations for portability.</li> <li>Update this spec if the identifier length, alphabet, or logging format changes.</li> </ul>"}]}